import{u as c,j as e,c as d}from"./index-dVy_6q9P.js";import{t as a}from"./index-BurIhCAR.js";import{u,L as m}from"./Loader-B8G8LQhy.js";import{u as x}from"./useMutation-Dp1vZOi_.js";const p=({user:s})=>{const t=c(),r=async o=>{console.info("Deleted user: ",o),await t.invalidateQueries({queryKey:a.user.list.queryOptions().queryKey})},{mutate:n,isPending:i}=x(a.user.destroy.mutationOptions({onSuccess:r})),l=()=>{n({id:s.id})};return e.jsxs("div",{className:"bg-blue-sky-50/5 shadow-blue-sky-500/60 mr-4 mb-4 flex w-72 justify-between rounded-md p-3 shadow-sm",children:[e.jsxs("div",{children:[e.jsx("div",{children:s.name}),e.jsx("div",{className:"text-gray-400 italic",children:s.username}),e.jsx("div",{className:"capitalize",children:s.role}),e.jsx("button",{className:"bg-blue-sky-400 hover:bg-blue-sky-500 active:bg-blue-sky-600 rounded-sm p-0.5 px-2 text-xs text-white",disabled:i,onClick:l,children:i?e.jsx("span",{className:"animate-pulse",children:"Deleting..."}):"Delete"})]}),e.jsx("img",{alt:s.username,className:"ml-4 h-24 rounded-sm",src:s.imageUrl??"no-user.jpg"})]})},y=()=>{const{data:s}=u(a.user.list.queryOptions());return e.jsxs("div",{children:[e.jsx("h3",{children:"ðŸ‘¤ Users"}),e.jsx("div",{className:"mt-4 flex flex-wrap",children:s?s.map(t=>e.jsx(p,{user:t},t.id)):e.jsx(m,{})})]})},v=d("/users")({component:y});export{v as Route};
